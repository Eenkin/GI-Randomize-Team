<<!DOCTYPE html>
   <html lang="en" dir="ltr">

   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>GI Randomize Teams</title>
      <style>
         body {
            max-width: 1000px;
            margin: 10px auto;
            background-color: #313038;
            user-select: none;
            font-family: Arial;
         }

         #resultsSection {
            margin: 0 10px;
            /* width: max-content; */
            min-width: 495px;
            max-width: 1000px;
         }

         .teamSlot,
         .charSelect {
            display: inline-grid;
            width: 100px;
            margin: 5px;
            cursor: pointer;
            position: relative;
         }

         .charSelect img,
         .winnerImg img {
            width: 100px;
         }

         .teamSlot {
            border: 5px solid gold;
            border-radius: 0 0 16px 16px;
         }

         .winnerImg {
            background-color: #f9f2ed;
            height: 100px;
         }

         .winnerImg:hover {
            background-color: white;
         }

         .char_name {
            background-color: #d2ac7e;
            text-align: center;
            padding: 3px;
            height: 45px;
            box-sizing: border-box;
            border-radius: 0 0 10px 10px;
         }

         #team_buttons {
            margin: 10px 0;
         }

         #team_buttons>span button {
            color: #4e97e2;
         }

         #team_buttons button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            color: #d2ac7e;
            font-weight: 1000;
            font-size: 1.5em;
            padding: 0;
            margin-right: 20px;
            display: inline-grid;
         }

         .filterLabels{
            font-weight: 1000;
            font-size: 2em;
            color: lightgreen;
         }

         #team_buttons button:hover {
            color: white;
         }

         .currentMode {
            color: white !important;
         }

         .charSelect>img {
            background-color: dimgray;
         }

         .charSelect:hover>img {
            background-color: #dadada;
         }

         img {
            pointer-events: none;
         }

         .charSelect>* {
            max-width: 100%;
         }

         .mainSect {
            margin: 0 10px;
            min-width: 455px;
         }

         h1 {
            color: white;
         }

         .inactive {
            opacity: 33%;
         }

         .locked {
            border-color: lightgray !important;
            opacity: 33%;
         }

         #debugCheck{
            color: white;
         }

         .hide{
            display: none;
         }

         label{
            width: 2em;
            height: 2em;
            opacity: 0.5;
            margin: 0 0.75rem;
            display: inline-block;
            cursor: pointer;

            position: relative;
            top: 0.4em;
         }

         label img{
            width: inherit;
            height: inherit;
         }

         /* #travlerElementInput input, #filterElementInput input, #filterRegionInput input{
            display: none;
         } */

         [type=radio]{
            display: none;
         }

         [type=radio]:checked + label, [type=radio]:hover + label{
            opacity: 1;
         }

         /* #travlerElementInput input:checked + .elementIcon,#travlerElementInput input:hover + .elementIcon,#filterElementInput input:checked + .elementIcon, #filterElementInput input:hover + .elementIcon, #filterRegionInput input:checked + .regionIcon, #filterRegionInput input:hover + .regionIcon{
            opacity: 1;
         } */

         .labelTxt, .subnav label{
            font-weight:bold;
            font-size: 2em;
            color: white;
            top:0;
            width: fit-content;
            height: fit-content;
         }

         .subnav img{
            width: 1em;
            height: 1em;
            position: relative;
            top:5px;
         }

         .filterTab{
            display: none;

         }

         .filterTabDisplay{
            display:block;
            min-height: 3em;
            vertical-align: center;
            margin: 0;
            padding: 1em;
         }

         #filterTabChoice{
         }

         .filterTabDisplay, #filterTabChoice label{
            background-color: #a7167d;
         }

         /* #filterTabChoice label{
            width: fit-content;
            height: fit-content;
            padding: 0.5em;
            color: white;
            margin:0;
            font-size: 1.5em;
            font-weight: 1000;
            top:0;
         } */

         .navButtons li{
            /* cursor:pointer; */
            display: inline;
         }

         .subnav{
            display: none;
            /* background-color: darkblue; */
            margin: 0;
            padding: 1em 0;
            float:left;
            width: 100%;
            max-width: 1000px;
         }

         .selectionNav .subnav, .selectionNav label{
            background-color: darkblue;
         }

         .filterNav .subnav, .filterNav label{
            background-color: purple;
         }

         .navButtons{
            list-style-type: none;
            margin: 0;
            /* margin-bottom: 2em; */
            padding: 0;
            overflow: hidden;
            /* background-color: green; */
         }

         .navButtons > li > label{
            width: auto;
            color: white;
            font-weight: 1000;
            font-size: 1.5em;
            margin: 0 0.1em 0 0;
            padding: .5em .75em;
         }

         .navButtons > li > input[type="radio"]:checked+label+ul{
            /* background-color: white!important; */
            display: block!important;

         }

         h2{
            color: white; margin-bottom:0.5em; font-weight: 1000; font-size:2.25em;
         }

         #applyCustomFilterBtn{
            color: lightgreen!important;
         }

         #applyCustomFilterBtn:hover{
            color: white!important;
         }

         button:disabled{
            opacity: 0.5;
            color:lightgray!important;
         }

      </style>
   </head>

   <body>
      <div id='resultsSection'>
         <div class="teamSlot" onclick="lockSlot(this, 0)">
            <div class="winnerImg"><img></div>
            <div class="char_name"></div>
         </div>
         <div class="teamSlot" onclick="lockSlot(this, 1)">
            <div class="winnerImg"><img></div>
            <div class="char_name"></div>
         </div>
         <div class="teamSlot" onclick="lockSlot(this, 2)">
            <div class="winnerImg"><img></div>
            <div class="char_name"></div>
         </div>
         <div class="teamSlot" onclick="lockSlot(this, 3)">
            <div class="winnerImg"><img></div>
            <div class="char_name"></div>
         </div>

         <div id="team_buttons">
            <button onclick="randomizeTeam()">Randomize Team</button>
            <button onclick="clearTeam()">Clear Team</button>

            <h2>SELECTION MODE</h2>

            <span>

               <ul class="navButtons selectionNav">
                  <li>
                     <input type="radio" id="filterTab" onchange="changeMode('filter')" name="selectionMode" value="filter" checked>
                     <label for="filterTab">Filter</label>
                  </li>
                  <li>
                     <input type="radio" id="ownedTab" onchange="changeMode('owned')" name="selectionMode" value="owned">
                     <label for="ownedTab">Owned</label>
                  </li>
                  <li>
                     <input type="radio" id="slotTab" onchange="changeMode(''); [...document.getElementsByName('slotSelected')].forEach(i => i.checked = false);" name="selectionMode" value="addSlot">
                     <label for="slotTab">Add to Slot</label>
                     <ul class="subnav">
                        <li>
                           <input type="radio" id="slot1LI" onchange="changeMode('slot1')" name="slotSelected" value="slot1">
                           <label for="slot1LI">1st</label>
                        </li>
                        <li>
                           <input type="radio" id="slot2LI" onchange="changeMode('slot2')" name="slotSelected" value="slot2">
                           <label for="slot2LI">2nd</label>
                        </li>
                        <li>
                           <input type="radio" id="slot3LI" onchange="changeMode('slot3')" name="slotSelected" value="slot3">
                           <label for="slot3LI">3rd</label>
                        </li>
                        <li>
                           <input type="radio" id="slot4LI" onchange="changeMode('slot4')" name="slotSelected" value="slot4">
                           <label for="slot4LI">4th</label>
                        </li>
                     </ul>
                  </li>

               </ul>


               <h2>TRAVELER'S ELEMENT</h2>
               <span id="travlerElementInput">
                  <input onchange="changeTravelerElement();" type="radio" id="travelerAnemoBtn" value="Anemo" name="travelerElement" checked>
                  <label for="travelerAnemoBtn" class="elementIcon"><img src="img/element/rev/Anemo.png" alt="Anemo"></label>

                  <input onchange="changeTravelerElement();" type="radio" id="travelerGeoBtn" value="Geo" name="travelerElement">
                  <label for="travelerGeoBtn" class="elementIcon"><img src="img/element/rev/Geo.png" alt="Geo"></label>

                  <input onchange="changeTravelerElement();" type="radio" id="travelerElectroBtn" value="Electro" name="travelerElement">
                  <label for="travelerElectroBtn" class="elementIcon"><img src="img/element/rev/Electro.png" alt="Electro"></label>

               </span>
               <br>

               <h2 style="color: white; margin-bottom:0.5em; font-weight: 1000; font-size:2.25em;">FILTER</h2>

               <ul class="navButtons filterNav">
                  <li>
                     <input onchange="/*filtertype();*/" type="radio" id="filterElementBtn" value="0" name="changeFilter" checked>
                     <label for="filterElementBtn" class="">Element</label>

                     <ul class="subnav">
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterAnemoBtn" value="Anemo" name="elementFilter">
                           <label for="filterAnemoBtn" class="elementIcon"><img src="img/element/rev/Anemo.png" alt="Anemo"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterGeoBtn" value="Geo" name="elementFilter">
                           <label for="filterGeoBtn" class="elementIcon"><img src="img/element/rev/Geo.png" alt="Geo"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterElectroBtn" value="Electro" name="elementFilter">
                           <label for="filterElectroBtn" class="elementIcon"><img src="img/element/rev/Electro.png" alt="Electro"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterHydroBtn" value="Hydro" name="elementFilter">
                           <label for="filterHydroBtn" class="elementIcon"><img src="img/element/rev/Hydro.png" alt="Hydro"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterPyroBtn" value="Pyro" name="elementFilter">
                           <label for="filterPyroBtn" class="elementIcon"><img src="img/element/rev/Pyro.png" alt="Pyro"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterCryoBtn" value="Cryo" name="elementFilter">
                           <label for="filterCryoBtn" class="elementIcon"><img src="img/element/rev/Cryo.png" alt="Cryo"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterAllBtnElement" value="All" name="elementFilter" checked>
                           <label for="filterAllBtnElement" class="elementIcon labelTxt">ALL</label>
                        </li>
                     </ul>


                  <li>
                     <input onchange="/*filtertype();*/" type="radio" id="filterWeaponBtn" value="1" name="changeFilter">
                     <label for="filterWeaponBtn" class="">Weapon</label>

                     <ul class="subnav">
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterSwordBtn" value="Sword" name="weaponFilter">
                           <label for="filterSwordBtn" class="weaponIcon"><img src="img/weapon/Icon_Sword.png" alt="Sword"></label>
                        </li>

                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterClaymoreBtn" value="Claymore" name="weaponFilter">
                           <label for="filterClaymoreBtn" class="weaponIcon"><img src="img/weapon/Icon_Claymore.png" alt="Claymore"></label>
                        </li>

                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterBowBtn" value="Bow" name="weaponFilter">
                           <label for="filterBowBtn" class="weaponIcon"><img src="img/weapon/Icon_Bow.png" alt="Bow"></label>
                        </li>

                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterCatalystBtn" value="Catalyst" name="weaponFilter">
                           <label for="filterCatalystBtn" class="weaponIcon"><img src="img/weapon/Icon_Catalyst.png" alt="Catalyst"></label>
                        </li>

                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterPolearmBtn" value="Polearm" name="weaponFilter">
                           <label for="filterPolearmBtn" class="weaponIcon"><img src="img/weapon/Icon_Polearm.png" alt="Polearm"></label>
                        </li>

                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterAllBtnWeapon" value="All" name="weaponFilter" checked>
                           <label for="filterAllBtnWeapon" class="elementIcon labelTxt">ALL</label>
                        </li>

                     </ul>
                  </li>

                  <li>
                     <input onchange="/*filtertype();*/" type="radio" id="filterRegionBtn" value="2" name="changeFilter">
                     <label for="filterRegionBtn" class="">Region</label>

                     <ul class="subnav">
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterMondstadtBtn" value="Mondstadt" name="regionFilter">
                           <label for="filterMondstadtBtn" class="regionIcon" title="Mondstadt"><img src="img/region/rev/Mondstadt.png" alt="Mondstadt"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterLiyueBtn" value="Liyue" name="regionFilter">
                           <label for="filterLiyueBtn" class="regionIcon" title="Liyue"><img src="img/region/rev/Liyue.png" alt="Liyue"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterInazumaBtn" value="Inazuma" name="regionFilter">
                           <label for="filterInazumaBtn" class="regionIcon" title="Inazuma"><img src="img/region/rev/Inazuma.png" alt="Inazuma"></label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterOutlanderBtn" value="Outlander" name="regionFilter">
                           <label for="filterOutlanderBtn" class="regionIcon labelTxt">OUTLANDER</label>
                        </li>
                        <li>
                           <input onchange="filterChoices();" type="radio" id="filterAllBtnRegion" value="All" name="regionFilter" checked>
                           <label for="filterAllBtnRegion" class="regionIcon labelTxt">ALL</label>
                        </li>

                     </ul>
                  </li>

               </ul>

               <br>

               <h2>CUSTOM FILTER</h2>
               <select id="customFilterSelection" style="height: 2em;" onchange="disableCustomFilterFunctions()">
                  <option value="all">Select All Characters</option>
                  <option value="none">Select No Characters</option>
                  <option value="1">Custom 1</option>
                  <option value="2">Custom 2</option>
                  <option value="3">Custom 3</option>
                  <option value="4">Custom 4</option>
                  <option value="5">Custom 5</option>
                  <option value="6">Custom 6</option>
                  <option value="7">Custom 7</option>
                  <option value="8">Custom 8</option>
                  <option value="9">Custom 9</option>
                  <option value="10">Custom 10</option>
               </select>
               &nbsp;

               <button onclick="customFilterApply()" id="applyCustomFilterBtn">Apply Custom Filter</button>
               <br><br>
               <button onclick="customFilterRename();" id="renameCustomBtn" disabled>Rename Filter</button>
               <button onclick="customFilterSave()" id="saveCustomBtn" disabled>Save Filter</button>



            </span>
            </span>
         </div>
      </div>

      <br>

      <div class="mainSect">
         <h1>My Characters:</h1>
         <div id="owned_chars">
            <div class="charSelect" onclick="tapChar(this)" id="Albedo"><img src="img/Albedo.png">
               <div class="char_name">Albedo</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Aloy"><img src="img/Aloy.png">
               <div class="char_name">Aloy</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Amber"><img src="img/Amber.png">
               <div class="char_name">Amber</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Arataki_Itto"><img src="img/Arataki_Itto.png">
               <div class="char_name">Arataki Itto</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Barbara"><img src="img/Barbara.png">
               <div class="char_name">Barbara</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Beidou"><img src="img/Beidou.png">
               <div class="char_name">Beidou</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Bennett"><img src="img/Bennett.png">
               <div class="char_name">Bennett</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Chongyun"><img src="img/Chongyun.png">
               <div class="char_name">Chongyun</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Diluc"><img src="img/Diluc.png">
               <div class="char_name">Diluc</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Diona"><img src="img/Diona.png">
               <div class="char_name">Diona</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Eula"><img src="img/Eula.png">
               <div class="char_name">Eula</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Fischl"><img src="img/Fischl.png">
               <div class="char_name">Fischl</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Ganyu"><img src="img/Ganyu.png">
               <div class="char_name">Ganyu</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Gorou"><img src="img/Gorou.png">
               <div class="char_name">Gorou</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Hu_Tao"><img src="img/Hu_Tao.png">
               <div class="char_name">Hu Tao</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Jean"><img src="img/Jean.png">
               <div class="char_name">Jean</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Kaedehara_Kazuha"><img src="img/Kaedehara_Kazuha.png">
               <div class="char_name">Kaedehara Kazuha</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Kaeya"><img src="img/Kaeya.png">
               <div class="char_name">Kaeya</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Kamisato_Ayaka"><img src="img/Kamisato_Ayaka.png">
               <div class="char_name">Kamisato Ayaka</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Keqing"><img src="img/Keqing.png">
               <div class="char_name">Keqing</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Klee"><img src="img/Klee.png">
               <div class="char_name">Klee</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Kujou_Sara"><img src="img/Kujou_Sara.png">
               <div class="char_name">Kujou Sara</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Lisa"><img src="img/Lisa.png">
               <div class="char_name">Lisa</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Mona"><img src="img/Mona.png">
               <div class="char_name">Mona</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Ningguang"><img src="img/Ningguang.png">
               <div class="char_name">Ningguang</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Noelle"><img src="img/Noelle.png">
               <div class="char_name">Noelle</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Qiqi"><img src="img/Qiqi.png">
               <div class="char_name">Qiqi</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Raiden_Shogun"><img src="img/Raiden_Shogun.png">
               <div class="char_name">Raiden Shogun</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Razor"><img src="img/Razor.png">
               <div class="char_name">Razor</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Rosaria"><img src="img/Rosaria.png">
               <div class="char_name">Rosaria</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Sangonomiya_Kokomi"><img src="img/Sangonomiya_Kokomi.png">
               <div class="char_name">Sangonomiya Kokomi</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Sayu"><img src="img/Sayu.png">
               <div class="char_name">Sayu</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Shenhe"><img src="img/Shenhe.png">
               <div class="char_name">Shenhe</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Sucrose"><img src="img/Sucrose.png">
               <div class="char_name">Sucrose</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Tartaglia"><img src="img/Tartaglia.png">
               <div class="char_name">Tartaglia</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Traveler"><img src="img/Traveler.png">
               <div class="char_name">Traveler</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Thoma"><img src="img/Thoma.png">
               <div class="char_name">Thoma</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Venti"><img src="img/Venti.png">
               <div class="char_name">Venti</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Xiangling"><img src="img/Xiangling.png">
               <div class="char_name">Xiangling</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Xiao"><img src="img/Xiao.png">
               <div class="char_name">Xiao</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Xingqiu"><img src="img/Xingqiu.png">
               <div class="char_name">Xingqiu</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Xinyan"><img src="img/Xinyan.png">
               <div class="char_name">Xinyan</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Yanfei"><img src="img/Yanfei.png">
               <div class="char_name">Yanfei</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Yae_Miko"><img src="img/Yae_Miko.png">
               <div class="char_name">Yae Miko</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Yoimiya"><img src="img/Yoimiya.png">
               <div class="char_name">Yoimiya</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Yun_Jin"><img src="img/Yun_Jin.png">
               <div class="char_name">Yun Jin</div>
            </div>
            <div class="charSelect" onclick="tapChar(this)" id="Zhongli"><img src="img/Zhongli.png">
               <div class="char_name">Zhongli</div>
            </div>
         </div>
      </div>

      <div class="mainSect">
         <h1>Characters I Don't Have:</h1>
         <div id="unowned_chars"></div>
      </div>
      <br><br>

      <button onclick="viewDebug()" style="display: none!important;">View Debug</button>

      <div id="debugCheck" class="hide" style="display: none!important;">
         <h3>Debug</h3>
         <b>MyTeam</b>
         <p id="myTeamTxt"></p>
         <b>FilterTeam</b>
         <p id="filterTeamTxt"></p>
         <b>ShuffleTeam</b>
         <p id="shuffleTeamTxt"></p>
         <b>LockedTeam</b>
         <p id="lockedTeamTxt"></p>
         <b>Local Storage</b>
         <p id="lclStrgTxt"></p>
      </div>




      <script>
         var selectionMode = 'filter';
         var myTeam = [
            "Traveler",
            "Jean",
            "Amber",
            "Lisa",
            "Kaeya",
            "Barbara",
            "Diluc",
            "Razor",
            "Venti",
            "Klee",
            "Bennett",
            "Noelle",
            "Fischl",
            "Sucrose",
            "Mona",
            "Diona",
            "Albedo",
            "Rosaria",
            "Eula",
            "Aloy",
            "Xiao",
            "Beidou",
            "Ningguang",
            "Xiangling",
            "Xingqiu",
            "Chongyun",
            "Qiqi",
            "Keqing",
            "Tartaglia",
            "Zhongli",
            "Xinyan",
            "Ganyu",
            "Hu Tao",
            "Yanfei",
            "Kamisato Ayaka",
            "Kaedehara Kazuha",
            "Yoimiya",
            "Sayu",
            "Raiden Shogun",
            "Kujou Sara",
            "Sangonomiya Kokomi"
         ];

         var shuffledTeam = [];

         var filterTeam = [...myTeam];

         var lockedTeam = [];

         var genshinCharacters = {
            "Traveler": {
               "element": "Anemo",
               "region": "Outlander",
               "rarity": 5,
               "weapon": "Sword",
               "charURL": "Traveler"
            },
            "Jean": {
               "element": "Anemo",
               "region": "Mondstadt",
               "rarity": 5,
               "weapon": "Sword",
               "charURL": "Jean"
            },
            "Amber": {
               "element": "Pyro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Bow",
               "charURL": "Amber"
            },
            "Lisa": {
               "element": "Electro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Catalyst",
               "charURL": "Lisa"
            },
            "Kaeya": {
               "element": "Cryo",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Sword",
               "charURL": "Kaeya"
            },
            "Barbara": {
               "element": "Hydro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Catalyst",
               "charURL": "Barbara"
            },
            "Diluc": {
               "element": "Pyro",
               "region": "Mondstadt",
               "rarity": 5,
               "weapon": "Claymore",
               "charURL": "Diluc"
            },
            "Razor": {
               "element": "Electro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Claymore",
               "charURL": "Razor"
            },
            "Venti": {
               "element": "Anemo",
               "region": "Mondstadt",
               "rarity": 5,
               "weapon": "Bow",
               "charURL": "Venti"
            },
            "Klee": {
               "element": "Pyro",
               "region": "Mondstadt",
               "rarity": 5,
               "weapon": "Catalyst",
               "charURL": "Klee"
            },
            "Bennett": {
               "element": "Pyro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Sword",
               "charURL": "Bennett"
            },
            "Noelle": {
               "element": "Geo",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Claymore",
               "charURL": "Noelle"
            },
            "Fischl": {
               "element": "Electro",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Bow",
               "charURL": "Fischl"
            },
            "Sucrose": {
               "element": "Anemo",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Catalyst",
               "charURL": "Sucrose"
            },
            "Mona": {
               "element": "Hydro",
               "rarity": 5,
               "region": "Mondstadt",
               "weapon": "Catalyst",
               "charURL": "Mona"
            },
            "Diona": {
               "element": "Cryo",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Bow",
               "charURL": "Diona"
            },
            "Albedo": {
               "element": "Geo",
               "rarity": 5,
               "region": "Mondstadt",
               "weapon": "Sword",
               "charURL": "Albedo"
            },
            "Rosaria": {
               "element": "Cryo",
               "rarity": 4,
               "region": "Mondstadt",
               "weapon": "Polearm",
               "charURL": "Rosaria"
            },
            "Eula": {
               "element": "Cryo",
               "rarity": 5,
               "region": "Mondstadt",
               "weapon": "Claymore",
               "charURL": "Eula"
            },
            "Aloy": {
               "element": "Cryo",
               "rarity": "Event",
               "region": "Outlander",
               "weapon": "Bow",
               "charURL": "Aloy"
            },
            "Xiao": {
               "element": "Anemo",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Xiao"
            },
            "Beidou": {
               "element": "Electro",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Claymore",
               "charURL": "Beidou"
            },
            "Ningguang": {
               "element": "Geo",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Catalyst",
               "charURL": "Ningguang"
            },
            "Xiangling": {
               "element": "Pyro",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Xiangling"
            },
            "Xingqiu": {
               "element": "Hydro",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Sword",
               "charURL": "Xingqiu"
            },
            "Chongyun": {
               "element": "Cryo",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Claymore",
               "charURL": "Chongyun"
            },
            "Qiqi": {
               "element": "Cryo",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Sword",
               "charURL": "Qiqi"
            },
            "Keqing": {
               "element": "Electro",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Sword",
               "charURL": "Keqing"
            },
            "Tartaglia": {
               "element": "Hydro",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Bow",
               "charURL": "Tartaglia"
            },
            "Zhongli": {
               "element": "Geo",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Zhongli"
            },
            "Xinyan": {
               "element": "Pyro",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Claymore",
               "charURL": "Xinyan"
            },
            "Ganyu": {
               "element": "Cryo",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Bow",
               "charURL": "Ganyu"
            },
            "Hu Tao": {
               "element": "Pyro",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Hu_Tao"
            },
            "Yanfei": {
               "element": "Pyro",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Catalyst",
               "charURL": "Yanfei"
            },
            "Kamisato Ayaka": {
               "element": "Cryo",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Sword",
               "charURL": "Kamisato_Ayaka"
            },
            "Kaedehara Kazuha": {
               "element": "Anemo",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Sword",
               "charURL": "Kaedehara_Kazuha"
            },
            "Yoimiya": {
               "element": "Pyro",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Bow",
               "charURL": "Yoimiya"
            },
            "Sayu": {
               "element": "Anemo",
               "rarity": 4,
               "region": "Inazuma",
               "weapon": "Claymore",
               "charURL": "Sayu"
            },
            "Raiden Shogun": {
               "element": "Electro",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Polearm",
               "charURL": "Raiden_Shogun"
            },
            "Kujou Sara": {
               "element": "Electro",
               "rarity": 4,
               "region": "Inazuma",
               "weapon": "Bow",
               "charURL": "Kujou_Sara"
            },
            "Sangonomiya Kokomi": {
               "element": "Hydro",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Catalyst",
               "charURL": "Sangonomiya_Kokomi"
            },
            "Thoma": {
               "element": "Pyro",
               "rarity": 4,
               "region": "Inazuma",
               "weapon": "Polearm",
               "charURL": "Thoma"
            },
            "Arataki Itto": {
               "element": "Geo",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Claymore",
               "charURL": "Arataki_Itto"
            },
            "Gorou": {
               "element": "Geo",
               "rarity": 4,
               "region": "Inazuma",
               "weapon": "Bow",
               "charURL": "Gorou"
            },
            "Shenhe": {
               "element": "Cryo",
               "rarity": 5,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Shenhe"
            },
            "Yun Jin": {
               "element": "Geo",
               "rarity": 4,
               "region": "Liyue",
               "weapon": "Polearm",
               "charURL": "Yun_Jin"
            },
            "Yae Miko": {
               "element": "Electro",
               "rarity": 5,
               "region": "Inazuma",
               "weapon": "Catalyst",
               "charURL": "Yae_Miko"
            }
         }

         var customFilterObj = {
            1: {
               "name": 'Custom 1',
               "filter": []
            },
            2: {
               "name": 'Custom 2',
               "filter": []
            },
            3: {
               "name": 'Custom 3',
               "filter": []
            },
            4: {
               "name": 'Custom 4',
               "filter": []
            },
            5: {
               "name": 'Custom 5',
               "filter": []
            },
            6: {
               "name": 'Custom 6',
               "filter": []
            },
            7: {
               "name": 'Custom 7',
               "filter": []
            },
            8: {
               "name": 'Custom 8',
               "filter": []
            },
            9: {
               "name": 'Custom 9',
               "filter": []
            },
            10: {
               "name": 'Custom 10',
               "filter": []
            }
         }

         // var view_tabGroups = {
         //    "selectionMode": "filterLI",
         //    "characterTraits": "elementLI"
         // }

         function modeSwitch(mode) {
            document.getElementById(selectionMode + 'BTN').classList.remove('currentMode');
            document.getElementById(mode + 'BTN').classList.add('currentMode');
            selectionMode = mode;
         }

         function changeMode(mode) {
            selectionMode = mode;
         }

         // function viewTab(tab, tabGroup) {
         //    document.getElementById(selectionMode + 'Tab').classList.remove('viewTab');
         //    document.getElementById(mode + 'Tab').classList.add('viewTab');
         // }



         function changeTeam(type, char) {
            switch (type) {
               case 'remove':
                  var index = filterTeam.indexOf(char);

                  filterTeam.splice(index, index > -1 ? 1 : 0);

                  index = lockedTeam.indexOf(char);
                  lockedTeam.splice(index, index > -1 ? 1 : 0);

                  if (selectionMode != 'owned') break;

                  if (index > -1) {
                     document.getElementsByClassName('winnerImg')[index].removeAttribute('style');
                     document.getElementsByClassName('teamSlot')[index].lastElementChild.innerText = '';
                     document.getElementsByClassName('teamSlot')[index].classList.remove('locked');
                  }

                  index = myTeam.indexOf(char);
                  myTeam.splice(index, index > -1 ? 1 : 0);
                  break;
               case 'add':
                  if (!lockedTeam.includes(char)) filterTeam.push(char);
                  if (selectionMode == 'owned') myTeam.push(char);
                  break;
            }
         }

         function tapChar(char) {
            var charName = char.lastElementChild.innerText;
            switch (selectionMode) {

               case 'owned':
                  var own_element;
                  var temp;
                  if (char.classList.contains('unowned')) {
                     char.classList.remove('inactive');
                     own_element = 'owned_chars';
                     changeTeam('add', charName);
                  } else {
                     char.classList.add('inactive');
                     own_element = 'unowned_chars'
                     changeTeam('remove', charName);

                     var index = lockedTeam.indexOf(charName);

                     if (index > -1) {
                        lockedTeam.splice(index, 1);
                        console.log(true);
                        document.getElementsByClassName('winnerImg')[index].removeAttribute('style');
                        document.getElementsByClassName('teamSlot')[index].lastElementChild.innerText = '';
                     }

                  }

                  char.classList.toggle('unowned');

                  own_element = document.getElementById(own_element);
                  own_element.appendChild(char);

                  temp = [...own_element.children];

                  temp.sort((a, b) => {
                     if (a.id > b.id) {
                        return 1;
                     }
                     if (b.id > a.id) {
                        return -1;
                     }
                     return 0;
                  });

                  own_element.innerHTML = '';
                  temp.forEach(x => own_element.appendChild(x));

                  localStorage.myTeamGITeamRandom = JSON.stringify([...new Set(myTeam)]);
                  break;
               case 'filter':
                  if (char.classList.contains('inactive') && !char.classList.contains('unowned')) {
                     char.classList.remove('inactive');
                     changeTeam('add', charName);
                  } else {
                     char.classList.add('inactive');
                     changeTeam('remove', charName);
                  }

                  break;
               case 'slot1':
               case 'slot2':
               case 'slot3':
               case 'slot4':
                  var char = charName;
                  var index = parseInt(selectionMode.slice(-1)) - 1;
                  var slot = document.getElementsByClassName('teamSlot')[index];

                  if (!shuffledTeam.includes(char)) {

                     if (slot.classList.contains('locked')) {
                        lockSlot(slot, index);
                     }

                     slot.firstElementChild.setAttribute('style', 'background-image: url(img/' + genshinCharacters[char].charURL + '.png); background-size: 100px;');
                     slot.lastElementChild.innerText = char;
                     lockSlot(slot, index);
                  } else {
                     var oldIndex = shuffledTeam.indexOf(char);

                     if (lockedTeam.includes(char)) {
                        [lockedTeam[index], lockedTeam[oldIndex]] = [lockedTeam[oldIndex], lockedTeam[index]];
                     } else {
                        lockedTeam[index] = char;
                     }

                     [shuffledTeam[index], shuffledTeam[oldIndex]] = [shuffledTeam[oldIndex], shuffledTeam[index]];
                     var oldSlot = document.getElementsByClassName('teamSlot')[oldIndex];

                     slot.appendChild(oldSlot.firstElementChild);
                     slot.appendChild(oldSlot.firstElementChild);

                     oldSlot.appendChild(slot.firstElementChild);
                     oldSlot.appendChild(slot.firstElementChild);

                     if (!lockedTeam[oldIndex]) {
                        oldSlot.classList.remove('locked')
                     }

                     slot.classList.add('locked');
                  }
                  break;
               default:
                  break;
            }
         }

         function shuffle(array) {
            let currentIndex = array.length,
               randomIndex;

            while (currentIndex != 0) {

               randomIndex = Math.floor(Math.random() * currentIndex);
               currentIndex--;

               [array[currentIndex], array[randomIndex]] = [
                  array[randomIndex], array[currentIndex]
               ];
            }

            return array;
         }

         function filteredCharTeam() {
            var filterTeam = [...document.getElementById('owned_chars').children];

            filterTeam = filterTeam.filter(a => {
               return !a.classList.contains('hide') && !a.classList.contains('inactive')
            });

            filterTeam.forEach((item, i) => {
               filterTeam[i] = item.lastElementChild.innerText;
            });

            return filterTeam
         }

         function customFilterRename() {
            var slot = document.getElementById('customFilterSelection');
            var rename = prompt('Rename Custom Filter', customFilterObj[slot.value]['name']);

            if (rename === null) return;

            rename = rename.trim().substr(0, 32);

            for (var i = 0; i < slot.children.length; i++) {
               if (slot.children[i].innerText == rename) {
                  alert('There is already a Custom Filter with the name, "' + rename + '".');
                  return;
               }
            }

            customFilterObj[slot.value]['name'] = rename;

            slot.children[slot.value - 1].innerText = rename;

            localStorage.genshinCustomFilter = JSON.stringify(customFilterObj);

         }

         function customFilterSave() {
            var slot = document.getElementById('customFilterSelection').value;
            var filterTeam = filteredCharTeam();
            filterTeam.forEach((item, i) => {
               filterTeam[i] = item.replaceAll(' ', '_')

            });


            customFilterObj[slot]['filter'] = filterTeam;

            console.log(filterTeam);



            localStorage.genshinCustomFilter = JSON.stringify(customFilterObj);

            alert('Team has been saved to Custom Filter "' + customFilterObj[slot]['name'] + '"')
         }

         function disableCustomFilterFunctions(){
            var customFilterSelection = document.getElementById('customFilterSelection').value;

            var saveCustomBtn = document.getElementById('saveCustomBtn');

            var renameCustomBtn = document.getElementById('renameCustomBtn');

            if(customFilterSelection == "all" || customFilterSelection == 'none'){
               saveCustomBtn.disabled = true;
               renameCustomBtn.disabled = true;

               return
            }

            saveCustomBtn.disabled = false;
            renameCustomBtn.disabled = false;
         }

         function customFilterApply() {
            var slot = document.getElementById('customFilterSelection').value;

            if (slot == "all") {
               changeAllState('active');
               return;
            }
            if (slot == "none") {
               changeAllState('inactive');
               return;
            }

            var customFilterTeam = customFilterObj[slot]['filter'];

            var owned_chars = document.getElementById('owned_chars').children;

            for (var i = 0; i < owned_chars.length; i++) {
               var char = owned_chars[i]
               if (customFilterTeam.includes(char.id)) {
                  char.classList.remove('inactive');
               } else {
                  char.classList.add('inactive');
               }

            }

         }

         function changeAllState(state) {
            var owned_chars = document.getElementById('owned_chars').children;

            for (var i = 0; i < owned_chars.length; i++) {

               if (state == 'active') {
                  owned_chars[i].classList.remove('inactive');
               } else {
                  owned_chars[i].classList.add('inactive');
               }

            }
         }

         function randomizeTeam() {

            var filterTeam = filteredCharTeam();


            shuffle(filterTeam);
            shuffle(filterTeam);
            shuffle(filterTeam);
            shuffle(filterTeam);
            shuffle(filterTeam);

            shuffledTeam = [...filterTeam];
            var teamSlot = [...document.getElementsByClassName('teamSlot')];

            teamSlot = teamSlot.filter(x => !x.classList.contains('locked'))

            lockedTeam.forEach(item => {
               var index = shuffledTeam.indexOf(item);
               shuffledTeam.splice(index, index > -1 ? 1 : 0);
            })

            shuffledTeam = shuffledTeam.slice(0, 4);

            while (shuffledTeam.length < 4) {
               shuffledTeam.push(null);
            }

            teamSlot.forEach((slot, i) => {
               var char = shuffledTeam[i];
               if (char) {
                  slot.firstElementChild.setAttribute('style', 'background-image: url(img/' + genshinCharacters[char].charURL + '.png); background-size: 100px;');
                  slot.lastElementChild.innerText = (char);

               } else {
                  slot.firstElementChild.removeAttribute('style');
                  slot.lastElementChild.innerText = ('');
               }
            });

            for (var i = 0; i < 4; i++) {
               shuffledTeam[i] = document.getElementsByClassName('teamSlot')[i].lastElementChild.innerText;
            }


            document.getElementById('myTeamTxt').innerText = myTeam;
            document.getElementById('filterTeamTxt').innerText = filterTeam;
            document.getElementById('shuffleTeamTxt').innerText = shuffledTeam;
            document.getElementById('lockedTeamTxt').innerText = lockedTeam;
            document.getElementById('lclStrgTxt').innerText = localStorage.myTeamGITeamRandom;

         }

         function clearTeam() {
            var teamSlot = [...document.getElementsByClassName('teamSlot')];

            teamSlot = teamSlot.filter(x => !x.classList.contains('locked'))

            teamSlot.forEach(slot => {
               slot.firstElementChild.removeAttribute('style');
               slot.lastElementChild.innerText = ('');
            });

         }

         function lockSlot(slot, index) {
            var char = slot.lastElementChild.innerText;
            if (slot.classList.contains('locked')) {
               slot.classList.remove('locked');

               if (genshinCharacters[char]) {
                  filterTeam.push(char);
               }

               lockedTeam[index] = null;
            } else {
               slot.classList.add('locked');
               lockedTeam[index] = genshinCharacters[char] ? char : null;
               var index = filterTeam.indexOf(char)
               filterTeam.splice(index, index > -1 ? 1 : 0);
            }
         }

         function loadTeam() {
            if (localStorage.myTeamGITeamRandom) {
               myTeam = [...new Set(JSON.parse(localStorage.myTeamGITeamRandom))];
               filterTeam = [...myTeam];

               var owned_chars = document.getElementById('owned_chars');
               var unowned_chars = document.getElementById('unowned_chars');

               var sortList = [...owned_chars.children];
               var owned = [];
               var unowned = [];

               sortList.forEach(x => {
                  if (myTeam.indexOf(x.lastElementChild.innerText) < 0) {
                     unowned_chars.appendChild(x);
                     x.classList.add('inactive');
                     x.classList.add('unowned');
                  }
               })


            }

            if (localStorage.travelerElement) {
               var travlerElementInput = document.getElementById('travlerElementInput').children;

               for (var i = 0; i < travlerElementInput.length; i++) {

                  if (travlerElementInput[i].value == localStorage.travelerElement) {
                     travlerElementInput[i].checked = true;
                     genshinCharacters["Traveler"].element = localStorage.travelerElement;
                     break;
                  }
               }
            }

            if (localStorage.genshinCustomFilter) {
               customFilterObj = JSON.parse(localStorage.genshinCustomFilter);

               var option = document.getElementById('customFilterSelection').children


               for (var i = 2; i < 12; i++) {
                  option[i].innerText = customFilterObj[i - 1].name;
               }
            }
         }


         function viewDebug() {
            document.getElementById('debugCheck').classList.toggle('hide');
         }

         function changeTravelerElement() {
            var travelerElement = document.querySelector('input[name="travelerElement"]:checked').value;
            genshinCharacters["Traveler"].element = travelerElement;
            localStorage.travelerElement = travelerElement;

            filterChoices();
         }

         function filterType() {
            var type = document.querySelector('input[name="filterType"]:checked').value;
            var tabs = [...document.getElementsByClassName('filterTab')];

            tabs.forEach((item, i) => {
               item.classList.remove('filterTabDisplay');

               if (i == type) {
                  item.classList.add('filterTabDisplay');
               }
            });

         }

         function filterChoices() {
            var elementFilter = document.querySelector('input[name="elementFilter"]:checked').value;
            var regionFilter = document.querySelector('input[name="regionFilter"]:checked').value;
            var weaponFilter = document.querySelector('input[name="weaponFilter"]:checked').value;
            var charSelect = [...document.getElementsByClassName('charSelect')]

            charSelect.forEach(item => {
               item.classList.remove('hide');
            });

            charSelect.forEach(item => {

               if (elementFilter != 'All') {
                  if (genshinCharacters[item.lastElementChild.innerText].element != elementFilter) {
                     item.classList.add('hide');
                  }
               }

               if (weaponFilter != 'All') {
                  if (genshinCharacters[item.lastElementChild.innerText].weapon != weaponFilter) {
                     item.classList.add('hide');
                  }
               }

               if (regionFilter != 'All') {
                  if (genshinCharacters[item.lastElementChild.innerText].region != regionFilter) {
                     item.classList.add('hide');
                  }
               }

            })

         }


         loadTeam();
      </script>
   </body>

   </html>
